<div class="signup" [formGroup]="signupForm">
  <div class="container">
    <div class="content">
      <div class="title">
        Регистрация на сайте
      </div>

      <div class="inputs">
        <div class="input-block">
          <input class="input" type="text" placeholder="Ваше имя"
                 formControlName="name"
                 [ngStyle]="{'border-color': signupForm.get('name')?.invalid && (signupForm.get('name')?.dirty || signupForm.get('name')?.touched) ? 'red' : ''}">
          <div *ngIf="signupForm.get('name')?.invalid
                  && (signupForm.get('name')?.dirty || signupForm.get('name')?.touched)">
            <div class="input-block-error"
                 *ngIf="signupForm.get('name')?.errors?.['pattern']">
              Имя должно начинаться с заглавной буквы
            </div>
            <div class="input-block-error"
                 *ngIf="signupForm.get('name')?.errors?.['required']">
              Это поле обязательно
            </div>
          </div>
        </div>

        <div class="input-block">
          <input class="input" type="text" placeholder="Электронная почта"
                 formControlName="email"
                 [ngStyle]="{'border-color': signupForm.get('email')?.invalid && (signupForm.get('email')?.dirty || signupForm.get('email')?.touched) ? 'red' : ''}">
          <div class="input-block-error"
               *ngIf="signupForm.get('email')?.invalid && (signupForm.get('email')?.dirty || signupForm.get('email')?.touched)">
            Почта должна соответствовать формату example@mail.com
          </div>
        </div>

        <div class="input-block">
          <input class="input" placeholder="Пароль"
                 [type]="passwordHidden ? 'password' : 'text'"
                 formControlName="password"
                 [ngStyle]="{'border-color': signupForm.get('password')?.invalid
                  && (signupForm.get('password')?.dirty || signupForm.get('password')?.touched) ? 'red' : ''}">

          <div class="password-hide-show" (click)="passwordHiddenToggle()">
            <svg [ngStyle]="{'display': passwordHidden ? 'block' : 'none'}" width="40px" height="40px" viewBox="0 0 24 24" fill="none"
                 xmlns="http://www.w3.org/2000/svg">
              <path
                d="M2 16C2 13.1716 2 11.7574 2.87868 10.8787C3.75736 10 5.17157 10 8 10H16C18.8284 10 20.2426 10 21.1213 10.8787C22 11.7574 22 13.1716 22 16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H8C5.17157 22 3.75736 22 2.87868 21.1213C2 20.2426 2 18.8284 2 16Z"
                stroke="#709FDC" stroke-width="1.5"/>
              <path d="M6 10V8C6 4.68629 8.68629 2 12 2C14.7958 2 17.1449 3.91216 17.811 6.5" stroke="#709FDC"
                    stroke-width="1.5" stroke-linecap="round"/>
              <path d="M8 16H8.009M11.991 16H12M15.991 16H16" stroke="#709FDC" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round"/>
            </svg>

            <svg [ngStyle]="{'display': !passwordHidden ? 'block' : 'none'}" width="40px" height="40px" viewBox="0 0 24 24" fill="none"
                 xmlns="http://www.w3.org/2000/svg">
              <path
                d="M2 16C2 13.1716 2 11.7574 2.87868 10.8787C3.75736 10 5.17157 10 8 10H16C18.8284 10 20.2426 10 21.1213 10.8787C22 11.7574 22 13.1716 22 16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H8C5.17157 22 3.75736 22 2.87868 21.1213C2 20.2426 2 18.8284 2 16Z"
                stroke="#709FDC" stroke-width="1.5"/>
              <path d="M6 10V8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8V10" stroke="#709FDC"
                    stroke-width="1.5" stroke-linecap="round"/>
              <path d="M8 16H8.009M11.991 16H12M15.991 16H16" stroke="#709FDC" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round"/>
            </svg>
          </div>

          <div *ngIf="signupForm.get('password')?.invalid
                  && (signupForm.get('password')?.dirty || signupForm.get('password')?.touched)">
            <div class="input-block-error"
                 *ngIf="signupForm.get('password')?.errors?.['password']">
              Пароль должен быть не менее 8 символов, содержать как минимум 1 букву в верхнем регистре и как минимум 1
              цифру
            </div>
            <div class="input-block-error"
                 *ngIf="signupForm.get('password')?.errors?.['required']">
              Это поле обязательно
            </div>
          </div>
        </div>

        <div class="input-block">
          <div class="input-block-checkbox">
            <input type="checkbox" id="checkbox" (click)="agreeToggle()">
            <label for="checkbox">
              Я принимаю
              <a routerLink="/policy-terms" fragment="terms-of-use">условия пользовательского соглашения</a>
              и даю
              <a routerLink="/policy-terms" fragment="personal-data">согласие на обработку персональных данных</a>.
            </label>
          </div>
        </div>
      </div>

      <div class="action-button">
        <button class="button" [disabled]="signupForm.invalid || !agree" (click)="signup()">Войти</button>
      </div>

      <div class="change-enter-type">
        Уже есть аккаунт? <a routerLink="/login">Войдите</a>
      </div>


    </div>
    <div class="image">
      <img src="../../../../assets/images/pages/enter/signup.png" alt="Signup">
    </div>

  </div>
</div>
